document.addEventListener("DOMContentLoaded",function(){const t=document.documentElement,e=document.getElementById("theme-toggle"),p=localStorage.getItem("pref-theme");p!==null&&(p==="light"?(e.checked=!0,localStorage.setItem("pref-theme","light")):p==="dark"?(e.checked=!1,localStorage.setItem("pref-theme","dark")):(e.checked=!1,localStorage.setItem("pref-theme","dark")));function R(){const t=e.checked?"light":"dark";localStorage.setItem("pref-theme",t)}e.addEventListener("input",R);const i=document.getElementById("hue-selector"),F=localStorage.getItem("theme-hue");F!==null?i.value=F:(i.value=268,localStorage.setItem("theme-hue",268));function y(){const e=i.value;t.style.setProperty("--input-color-hue",e+"deg"),localStorage.setItem("theme-hue",e)}y(),i.addEventListener("input",y);const c=document.getElementById("chroma-selector"),A=localStorage.getItem("theme-chroma");A!==null?c.value=A:(c.value=44,localStorage.setItem("theme-chroma",44));function w(){const e=c.value;t.style.setProperty("--input-color-chroma",e+"%"),localStorage.setItem("theme-chroma",e)}w(),c.addEventListener("input",w);const h=document.getElementById("tertiary-selector-cool"),C=document.getElementById("tertiary-selector-warm"),b=localStorage.getItem("tertiary-temperature");b!==null?b==="cool"?h.checked=!0:b==="warm"&&(C.checked=!0):(h.checked=!0,localStorage.setItem("tertiary-temperature","cool"));function m(){const e=document.querySelector('input[name="temperature"]:checked').value;localStorage.setItem("tertiary-temperature",e)}m(),h.addEventListener("change",m),C.addEventListener("change",m);const f=document.getElementById("contrast-selector-regular"),O=document.getElementById("contrast-selector-medium"),k=document.getElementById("contrast-selector-high"),v=localStorage.getItem("contrast");v!==null?v==="medium"?O.checked=!0:v==="high"?k.checked=!0:f.checked=!0:(f.checked=!0,localStorage.setItem("contrast","regular"));function n(){const e=document.querySelector('input[name="contrast"]:checked').value;localStorage.setItem("contrast",e)}n(),f.addEventListener("change",n),O.addEventListener("change",n),k.addEventListener("change",n);const u=document.getElementById("shape-selector"),M=localStorage.getItem("theme-shape");M!==null?u.value=M:(u.value=4,localStorage.setItem("theme-shape",4));function _(){const e=u.value;t.style.setProperty("--input-shape-corner",e+"px"),localStorage.setItem("theme-shape",e)}_(),u.addEventListener("input",_);const d=document.getElementById("dim-image-selector"),P=localStorage.getItem("dim-images");P!==null?d.checked=!0:(d.checked=!1,localStorage.setItem("dim-images","0.8"));function x(){const e=d.checked?"0.8":"1";localStorage.setItem("dim-images",e)}x(),d.addEventListener("change",x);const j=document.getElementById("width-selector-60"),E=document.getElementById("width-selector-120"),g=document.getElementById("width-selector-max"),l=localStorage.getItem("max-char-width"),H=localStorage.getItem("post-content-margin");l!==null?l==="60"?j.checked=!0:l==="120"?E.checked=!0:l==="max"&&(g.checked=!0):g.checked=!0;function r(){const e=document.querySelector('input[name="width"]:checked').value;e==="60"?localStorage.setItem("post-content-margin","0 auto"):e==="120"?localStorage.setItem("post-content-margin","0 auto"):e==="max"&&localStorage.setItem("post-content-margin","0"),localStorage.setItem("max-char-width",e)}r(),j.addEventListener("change",r),E.addEventListener("change",r),g.addEventListener("change",r);const a=document.getElementById("font-size-selector"),T=localStorage.getItem("typography-font-size");T!==null?a.value=T:(a.value=16,localStorage.setItem("typography-font-size",16));const o=document.getElementById("line-height-selector"),D=localStorage.getItem("typography-line-height");D!==null?o.value=D:(o.value=1.5,localStorage.setItem("typography-line-height",1.5));const L=document.getElementById("typography-selector"),N=localStorage.getItem("typography-brand-font");N!==null?document.querySelector('input[name="brand-font"][value="'+N+'"]').checked=!0:(document.querySelector('input[name="brand-font"][value="Raleway"]').checked=!0,localStorage.setItem("typography-brand-font","Raleway"));const z=localStorage.getItem("typography-plain-font");z!==null?document.querySelector('input[name="plain-font"][value="'+z+'"]').checked=!0:(document.querySelector('input[name="plain-font"][value="Rubik"]').checked=!0,localStorage.setItem("typography-plain-font","Rubik"));const S=localStorage.getItem("typography-code-font");S!==null?document.querySelector('input[name="code-font"][value="'+S+'"]').checked=!0:(document.querySelector('input[name="code-font"][value="SomeType Mono"]').checked=!0,localStorage.setItem("typography-code-font","SomeType Mono"));function s(){const s=document.querySelector('input[name="brand-font"]:checked').value,i=document.querySelector('input[name="plain-font"]:checked').value,r=document.querySelector('input[name="code-font"]:checked').value,e=a.value,n=o.value;t.style.setProperty("--input-font-size",e+"px"),t.style.setProperty("--input-line-height",n+"rem"),localStorage.setItem("typography-brand-font",s),localStorage.setItem("typography-plain-font",i),localStorage.setItem("typography-code-font",r),localStorage.setItem("typography-font-size",e),localStorage.setItem("typography-line-height",n)}s(),a.addEventListener("input",s),o.addEventListener("input",s),L.addEventListener("change",s)});const rangeInputHues=document.getElementById("hue-selector"),tooltipHues=document.getElementById("hue-tooltip"),rangeInputChromas=document.getElementById("chroma-selector"),tooltipChromas=document.getElementById("chroma-tooltip"),rangeInputShape=document.getElementById("shape-selector"),tooltipShape=document.getElementById("shape-tooltip"),rangeInputFontSize=document.getElementById("font-size-selector"),tooltipFontSize=document.getElementById("font-size-tooltip"),rangeInputLineHeight=document.getElementById("line-height-selector"),tooltipLineHeight=document.getElementById("line-height-tooltip");function updateTooltipHues(e){tooltipHues.textContent=e;const t=(e-rangeInputHues.min)/(rangeInputHues.max-rangeInputHues.min),n=t*(rangeInputHues.offsetWidth-20)+10;tooltipHues.style.left=`${n}px`,tooltipHues.style.opacity="1"}function updateTooltipChromas(e){tooltipChromas.textContent=e;const t=(e-rangeInputChromas.min)/(rangeInputChromas.max-rangeInputChromas.min),n=t*(rangeInputChromas.offsetWidth-20)+10;tooltipChromas.style.left=`${n}px`,tooltipChromas.style.opacity="1"}function updateTooltipShape(e){tooltipShape.textContent=e;const t=(e-rangeInputShape.min)/(rangeInputShape.max-rangeInputShape.min),n=t*(rangeInputShape.offsetWidth-20)+10;tooltipShape.style.left=`${n}px`,tooltipShape.style.opacity="1"}function updateTooltipFontSize(e){tooltipFontSize.textContent=e+"px";const t=(e-rangeInputFontSize.min)/(rangeInputFontSize.max-rangeInputFontSize.min),n=t*(rangeInputFontSize.offsetWidth-20)+10;tooltipFontSize.style.left=`${n}px`,tooltipFontSize.style.opacity="1"}function updateTooltipLineHeight(e){tooltipLineHeight.textContent=e;const t=(e-rangeInputLineHeight.min)/(rangeInputLineHeight.max-rangeInputLineHeight.min),n=t*(rangeInputLineHeight.offsetWidth-20)+10;tooltipLineHeight.style.left=`${n}px`,tooltipLineHeight.style.opacity="1"}rangeInputHues.addEventListener("input",e=>{updateTooltipHues(e.target.value)}),rangeInputHues.addEventListener("mousedown",()=>{updateTooltipHues(rangeInputHues.value)}),rangeInputHues.addEventListener("mouseup",()=>{tooltipHues.style.opacity="0"}),rangeInputHues.addEventListener("mouseleave",()=>{tooltipHues.style.opacity="0"}),rangeInputChromas.addEventListener("input",e=>{updateTooltipChromas(e.target.value)}),rangeInputChromas.addEventListener("mousedown",()=>{updateTooltipChromas(rangeInputChromas.value)}),rangeInputChromas.addEventListener("mouseup",()=>{tooltipChromas.style.opacity="0"}),rangeInputChromas.addEventListener("mouseleave",()=>{tooltipChromas.style.opacity="0"}),rangeInputShape.addEventListener("input",e=>{updateTooltipShape(e.target.value)}),rangeInputShape.addEventListener("mousedown",()=>{updateTooltipShape(rangeInputShape.value)}),rangeInputShape.addEventListener("mouseup",()=>{tooltipShape.style.opacity="0"}),rangeInputShape.addEventListener("mouseleave",()=>{tooltipShape.style.opacity="0"}),rangeInputFontSize.addEventListener("input",e=>{updateTooltipFontSize(e.target.value)}),rangeInputFontSize.addEventListener("mousedown",()=>{updateTooltipFontSize(rangeInputFontSize.value)}),rangeInputFontSize.addEventListener("mouseup",()=>{tooltipFontSize.style.opacity="0"}),rangeInputFontSize.addEventListener("mouseleave",()=>{tooltipFontSize.style.opacity="0"}),rangeInputLineHeight.addEventListener("input",e=>{updateTooltipLineHeight(e.target.value)}),rangeInputLineHeight.addEventListener("mousedown",()=>{updateTooltipLineHeight(rangeInputLineHeight.value)}),rangeInputLineHeight.addEventListener("mouseup",()=>{tooltipLineHeight.style.opacity="0"}),rangeInputLineHeight.addEventListener("mouseleave",()=>{tooltipLineHeight.style.opacity="0"});const mybutton=document.getElementById("top-link"),scrollWrapper=document.querySelector("html");function handleScroll(){scrollWrapper.scrollTop>1500?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}window.addEventListener("scroll",handleScroll),mybutton.addEventListener("click",function(){scrollWrapper.scrollTo({top:0,behavior:"smooth"})}),document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText='{{ i18n "code_copy" | default "copy" }}';function s(){t.innerText='{{ i18n "code_copied" | default "copied!" }}',setTimeout(()=>{t.innerText='{{ i18n "code_copy" | default "copy" }}'},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange(),o=window.getSelection();n.selectNodeContents(e),o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.prepend(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.prepend(t):e.parentNode.prepend(t))});function getPageIdentifier(){return window.location.pathname.replace(/\//g,"_")||"index"}function generateDetailsId(e,t){const n=e.querySelector("summary")?.textContent||"";return`${n.trim().toLowerCase().replace(/\s+/g,"_")}_${t}`}function saveDetailsState(){const n=getPageIdentifier(),e={};document.querySelectorAll("details").forEach((t,n)=>{const s=generateDetailsId(t,n);e[s]=t.open});const t=JSON.parse(localStorage.getItem("allDetailsState")||"{}");t[n]=e,localStorage.setItem("allDetailsState",JSON.stringify(t))}function loadDetailsState(){const t=getPageIdentifier(),n=JSON.parse(localStorage.getItem("allDetailsState")||"{}"),e=n[t]||{};document.querySelectorAll("details").forEach((t,n)=>{const s=generateDetailsId(t,n);s in e&&(t.open=e[s])})}function addDetailsListeners(){document.querySelectorAll("details").forEach(e=>{e.addEventListener("toggle",saveDetailsState)})}document.addEventListener("DOMContentLoaded",()=>{loadDetailsState(),addDetailsListeners()})